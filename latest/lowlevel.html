<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Low-level API · OpenDSSDirect.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>OpenDSSDirect.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Documentation</span><ul><li><a class="toctext" href="api.html">Main API</a></li><li><a class="toctext" href="flags.html">Flag objects</a></li><li><a class="toctext" href="dssmode.html">DSS REPL Mode</a></li><li class="current"><a class="toctext" href="lowlevel.html">Low-level API</a><ul class="internal"><li><a class="toctext" href="#Limitations-1">Limitations</a></li></ul></li><li><a class="toctext" href="docindex.html">Index</a></li></ul></li><li><a class="toctext" href="NEWS.html">Release notes</a></li><li><a class="toctext" href="LICENSE.html">License</a></li></ul></nav><article id="docs"><header><nav><ul><li>Documentation</li><li><a href="lowlevel.html">Low-level API</a></li></ul><a class="edit-page" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/docs/src/lowlevel.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Low-level API</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Low-level-API-(module-DSSCore)-1" href="#Low-level-API-(module-DSSCore)-1">Low-level API (module DSSCore)</a></h1><p>The main API is built on the low-level API documented <a href="http://svn.code.sf.net/p/electricdss/code/trunk/Distrib/Doc/OpenDSS_Direct_DLL.pdf">here</a>. The low-level API is implemented in the <code>DSSCore</code> module. Here is an example using the low-level API:</p><pre><code class="language-julia">DSSCore.DSSPut_Command(&quot;clear&quot;)
DSSCore.DSSPut_Command(&quot;compile (C:/OpenDSS/electricdss/IEEETestCases/8500-Node/Master.dss)&quot;)
loadnumber = DSSCore.DSSLoads(0, 0)
while loadnumber &gt; 0
    DSSCore.DSSLoadsF(1, 50.)
    DSSCore.DSSLoadsF(5, 20.)
    loadnumber = DSSCore.DSSLoads(1, 0)
end
println(DSSCore.DSSLoads(4, 0))</code></pre><p>Integer (I), floating-point (F), string (S), and variant (V) functions are supported. The low-level API functions are not exported.</p><p>This low-level API also includes several functions for directly accessing and controlling an OpenDSS solution. These functions include:</p><ul><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.AddInAuxCurrents"><code>OpenDSSDirect.DSSCore.AddInAuxCurrents</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.BuildYMatrixD"><code>OpenDSSDirect.DSSCore.BuildYMatrixD</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.GetPCInjCurr"><code>OpenDSSDirect.DSSCore.GetPCInjCurr</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.GetSourceInjCurrents"><code>OpenDSSDirect.DSSCore.GetSourceInjCurrents</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.SolveSystem"><code>OpenDSSDirect.DSSCore.SolveSystem</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.SystemYChanged"><code>OpenDSSDirect.DSSCore.SystemYChanged</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.UseAuxCurrents"><code>OpenDSSDirect.DSSCore.UseAuxCurrents</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.ZeroInjCurr"><code>OpenDSSDirect.DSSCore.ZeroInjCurr</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.getI"><code>OpenDSSDirect.DSSCore.getI</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.getV"><code>OpenDSSDirect.DSSCore.getV</code></a></li><li><a href="lowlevel.html#OpenDSSDirect.DSSCore.getYsparse"><code>OpenDSSDirect.DSSCore.getYsparse</code></a></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.getI" href="#OpenDSSDirect.DSSCore.getI"><code>OpenDSSDirect.DSSCore.getI</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>getI()</code> – Return the complex vector of current injections. </p><p>The size of the vector is one more than the number of nodes in the system. This is the same current injection array used in OpenDSS internally, so the current injections can be updated for custom solutions. This could be used to implement a custom power control component.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L296-L303">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.getV" href="#OpenDSSDirect.DSSCore.getV"><code>OpenDSSDirect.DSSCore.getV</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>getV()</code> – Return the complex vector of node voltages. </p><p>The size of the vector is one more than the number of nodes in the system. The first element is ground (zero volts). This is the same voltage array used in OpenDSS internally, so the voltages can be updated for custom solutions. </p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L311-L317">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.getYsparse" href="#OpenDSSDirect.DSSCore.getYsparse"><code>OpenDSSDirect.DSSCore.getYsparse</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>getYsparse()</code> – Return the system sparse Y matrix.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L275-L277">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.ZeroInjCurr" href="#OpenDSSDirect.DSSCore.ZeroInjCurr"><code>OpenDSSDirect.DSSCore.ZeroInjCurr</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>ZeroInjCurr()</code> – Zero out the current injections vector.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L325">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.GetSourceInjCurrents" href="#OpenDSSDirect.DSSCore.GetSourceInjCurrents"><code>OpenDSSDirect.DSSCore.GetSourceInjCurrents</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>GetSourceInjCurrents()</code> – Update the current injections vector with source injections.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L328">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.GetPCInjCurr" href="#OpenDSSDirect.DSSCore.GetPCInjCurr"><code>OpenDSSDirect.DSSCore.GetPCInjCurr</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>GetPCInjCurr()</code> – Update the current injections vector with injections from power control elements like loads.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L331">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.SystemYChanged" href="#OpenDSSDirect.DSSCore.SystemYChanged"><code>OpenDSSDirect.DSSCore.SystemYChanged</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>SystemYChanged()</code> – Bool indicating whether the system Y matrix has changed.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L334">source</a><br/><div><p><code>SystemYChanged(arg)</code> – Set the status of whether the system Y matrix has changed.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L337">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.BuildYMatrixD" href="#OpenDSSDirect.DSSCore.BuildYMatrixD"><code>OpenDSSDirect.DSSCore.BuildYMatrixD</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>BuildYMatrixD(buildops::Integer, doallocate)</code> – Rebuild the system Y matrix. </p><ul><li><p><code>buildops::Integer</code> indicates the type of build. <code>0 == WHOLEMATRIX</code> and <code>1 == SERIESONLY</code>.</p></li><li><p><code>doallocate::Bool</code> is used to determine whether to allocate the Y matrix.</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L340-L346">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.UseAuxCurrents" href="#OpenDSSDirect.DSSCore.UseAuxCurrents"><code>OpenDSSDirect.DSSCore.UseAuxCurrents</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>UseAuxCurrents()</code> – Bool indicating whether to use auxiliary currents.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L349">source</a><br/><div><p><code>UseAuxCurrents(arg)</code> – Set the status of whether to use auxiliary currents.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L352">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.AddInAuxCurrents" href="#OpenDSSDirect.DSSCore.AddInAuxCurrents"><code>OpenDSSDirect.DSSCore.AddInAuxCurrents</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>UseAuxCurrents(arg)</code> – ??</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L355">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="OpenDSSDirect.DSSCore.SolveSystem" href="#OpenDSSDirect.DSSCore.SolveSystem"><code>OpenDSSDirect.DSSCore.SolveSystem</code></a> — <span class="docstring-category">Function</span>.</div><div><p><code>SolveSystem()</code> – Update the system node voltages based on the vector of current injections.</p></div><a class="source-link" target="_blank" href="https://github.com/tshort/OpenDSSDirect.jl/tree/339237452280e1f35c9f4365928715c6c161dfb4/src/core.jl#L358">source</a><br/></section><h2><a class="nav-anchor" id="Limitations-1" href="#Limitations-1">Limitations</a></h2><p>The functions with input parameters that are Variants are not implemented. An example is <code>DSSCore.SettingsV(5, arg)</code> where <code>arg</code> is an Array. These variants are normally array inputs. There are not many of these in the direct API, and most can be handled with the text interface or other functions. Functions that retrieve Variants are supported.</p><footer><hr/><a class="previous" href="dssmode.html"><span class="direction">Previous</span><span class="title">DSS REPL Mode</span></a><a class="next" href="docindex.html"><span class="direction">Next</span><span class="title">Index</span></a></footer></article></body></html>
